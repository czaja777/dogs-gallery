(this["webpackJsonpbook-index"]=this["webpackJsonpbook-index"]||[]).push([[0],{62:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),s=n.n(r),i=n(19),d=n(49),o=n(31),u=n(10),l=function(e,t){return null===e?[t.message]:t.message},b=function(e){return null===e?"random":null===e.parent?e.name:"".concat(e.parent,"/").concat(e.name)},j={breeds:[],isLoaded:!1,activeBreed:null,dogsPictures:[],cachedPictures:{random:{isLoaded:!1,pictures:[]}}},p="setBreedsSuccess",O="setActiveBreed",m="setPictures",h="changeBreedRequest",f="changeBreedSuccess";var g=Object(d.a)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:return Object(u.a)(Object(u.a)({},t),{},{breeds:Object.entries(n.payload.message).map((function(e){return{name:e[0],subBreeds:e[1]}})),isLoaded:!0});case O:return Object(u.a)(Object(u.a)({},t),{},{activeBreed:n.payload});case h:return e=b(n.payload.breed),Object(u.a)(Object(u.a)({},t),{},{activeBreed:n.payload.breed,cachedPictures:Object(u.a)(Object(u.a)({},t.cachedPictures),{},Object(o.a)({},e,Object(u.a)({isLoaded:!1,pictures:[]},t.cachedPictures[e])))});case f:return e=b(n.payload.breed),Object(u.a)(Object(u.a)({},t),{},{activeBreed:n.payload.breed,cachedPictures:Object(u.a)(Object(u.a)({},t.cachedPictures),{},Object(o.a)({},e,{isLoaded:!0,pictures:n.payload.pictures}))});case m:return Object(u.a)(Object(u.a)({},t),{},{dogsPictures:n.payload});default:return t}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),x=(n(62),n(107)),v=n(102),y=n(105),w=n(106),B=function(e){return e.breeds},P=function(e){return e.isLoaded},C=function(e){var t=b(e.activeBreed);return e.cachedPictures[t].pictures},L=function(e){return e.cachedPictures},k=n(95),E=Object(k.a)((function(e){return{root:{display:"flex",color:e.palette.text.secondary,flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},drawer:{flexBasis:240},drawerPaper:{width:240},nested:{paddingLeft:e.spacing(4)},content:{marginLeft:240},gridList:{}}})),_=n(108),N=n(110),I=n(4),S=function(e){return Object(I.jsx)(_.a,{button:!0,onClick:function(){e.onClick({name:e.name,parent:e.parent||null})},className:e.className,children:Object(I.jsx)(N.a,{primary:e.name})},e.name)},F=n(98),T=n(109),D=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,H=function(){var e=Math.round(D/64);return Object(I.jsx)(I.Fragment,{children:Object(T.a)(0,e).map((function(e){return Object(I.jsx)(F.a,{variant:"text",animation:"wave",height:64},e)}))})},R=n(24),X=n(101),J=n(99),M=n(100),U=function(e){var t=E(),n=Object(c.useState)(!1),a=Object(R.a)(n,2),r=a[0],s=a[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(_.a,{button:!0,onClick:function(){s(!r)},children:[Object(I.jsx)(N.a,{primary:e.name}),0===e.subItems.length?null:r?Object(I.jsx)(J.a,{}):Object(I.jsx)(M.a,{})]}),0===e.subItems.length?null:Object(I.jsx)(X.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(I.jsx)(v.a,{component:"div",disablePadding:!0,children:e.subItems.map((function(n){return Object(I.jsx)(S,{name:n,parent:e.name,onClick:e.onChildClick,className:t.nested},n)}))})})]})},V=n(48),q=n(103),A=n(104),W=function(e){var t=a.a.useRef(null),n=Object(V.a)(t),c=Object(R.a)(n,1)[0],r=E();return Object(I.jsx)("div",{className:r.content,ref:t,children:Object(I.jsx)(q.a,{cellHeight:250,className:r.gridList,cols:z(c),children:e.pictures.map((function(e){return Object(I.jsx)(A.a,{cols:e.cols||1,children:Object(I.jsx)("img",{src:e,alt:e.name})},e)}))})})},z=function(e){return e<=500?1:e>500&&e<=800?2:Math.floor(e/250)},G=function(e){return null===e?"https://dog.ceo/api/breeds/image/random":null===e.parent?"https://dog.ceo/api/breed/".concat(e.name,"/images"):"https://dog.ceo/api/breed/".concat(e.parent,"/").concat(e.name,"/images")};var K=function(){var e=E(),t=Object(i.b)();Object(c.useEffect)((function(){fetch("https://dog.ceo/api/breeds/list/all").then((function(e){return e.json()})).then((function(e){return t({type:p,payload:e})}))}),[]);var n=Object(i.c)(B),a=Object(i.c)(P),r=Object(i.c)(C),s=Object(i.c)(L),d=Object(c.useCallback)((function(e){var n;t({type:h,payload:{breed:e}});var c,a=b(e);!0!==(null===(n=s[a])||void 0===n?void 0:n.isLoaded)&&(c=e,fetch(G(c)).then((function(e){return e.json()}))).then((function(n){return t({type:f,payload:{breed:e,pictures:l(e,n)}})}))}),[t,s]);return Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsx)(x.a,{className:e.drawer,variant:"persistent",anchor:"left",open:!0,classes:{paper:e.drawerPaper},children:Object(I.jsxs)(v.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(I.jsx)(y.a,{component:"div",id:"nested-list-subheader",children:"Breeds list:"}),children:[Object(I.jsx)(w.a,{}),!1===a?Object(I.jsx)(H,{}):n.map((function(e){return 0===e.subBreeds.length?Object(I.jsx)(S,{name:e.name,onClick:d,padding:{left:0}},e.name):Object(I.jsx)(U,{name:e.name,subItems:e.subBreeds,onChildClick:d},e.name)}))]})}),Object(I.jsx)("main",{children:Object(I.jsx)(W,{pictures:r})})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(I.jsx)(i.a,{store:g,children:Object(I.jsx)(K,{})}),document.getElementById("root")),Q()}},[[65,1,2]]]);
//# sourceMappingURL=main.e2b34d2a.chunk.js.map